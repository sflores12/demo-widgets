{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*************************","webpack:///webpack/bootstrap dcaf2abb135ce9e57553?c844*************************","webpack:///./ui-bb-parent-responsiveness-ng/model.xml","webpack:///external \"vendor-bb-angular\"?a114*************************","webpack:///./ui-bb-parent-responsiveness-ng/scripts/index.js","webpack:///./ui-bb-parent-responsiveness-ng/scripts/directive.js","webpack:///./ui-bb-parent-responsiveness-ng/scripts/constants.js"],"names":["module","directive","name","parentResponsivenessDirective","restrict","scope","bootstrapSizes","link","element","attrs","parent","parentWrapSpace","computedStyles","window","getComputedStyle","parseFloat","getPropertyValue","sizes","classes","class","split","responsiveData","map","elementClass","find","cssClass","indexOf","size","classPrefix","minWidth","updateClasses","parentWidth","clientWidth","lastAdded","firstRemoved","classAction","forEach","responsiveItem","addClass","ready","angular","on","addEventListener","BootstrapSizes"],"mappings":"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","file":"ui-bb-parent-responsiveness-ng/scripts/ui-bb-parent-responsiveness-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ui-bb-parent-responsiveness-ng\", [\"vendor-bb-angular\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ui-bb-parent-responsiveness-ng\"] = factory(require(\"vendor-bb-angular\"));\n\telse\n\t\troot[\"ui-bb-parent-responsiveness-ng\"] = factory(root[\"vendor-bb-angular\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dcaf2abb135ce9e57553","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-bb-parent-responsiveness-ng/model.xml\n// module id = 0\n// module chunks = 26","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 2\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40","/**\n * @module ui-bb-parent-responsiveness-ng\n * @description\n * Directive that dynamically toggles bootstrap column\n * classes based on the width of the parent container, rather\n * than the width of the whole window\n *\n * This directive listens to parentResized event.\n * Use this event to manually trigger parent size calculation and\n * class processing\n *\n * @example\n * // in main script\n * import uiBbParentResponsivenessNg from 'ui-bb-parent-responsiveness-ng';\n *\n * export const dependencyKeys = [\n *   uiBbParentResponsivenessNg,\n * ];\n *\n * // in template file\n * <div ui-bb-parent-responsiveness-ng class=\"col-xs-12 col-sm-8 col-md-6\">\n * \t...\n * </div>\n *\n * // dispatch an event to manually trigger size processing\n * const event = new Event('parentResized');\n * element.dispatchEvent(event);\n */\n\nimport angular from 'vendor-bb-angular';\nimport directive from './directive';\n\nexport default angular.module('ui-bb-parent-responsiveness-ng', [])\n\t.directive('uiBbParentResponsivenessNg', [directive])\n\t.name;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-parent-responsiveness-ng/scripts/index.js","/* global window, angular */\nimport BootstrapSizes from './constants';\n\n/**\n * @name parentResponsivenessDirective\n * @type {function}\n *\n * @property {BootstrapSize[]} bootstrapSizes\n * Override default Bootstrap setup with custom class prefixes and\n * minimal widths\n */\nconst parentResponsivenessDirective = () => ({\n  restrict: 'A',\n  scope: {\n    bootstrapSizes: '<',\n  },\n  link: (scope, element, attrs) => {\n    // find out the parent's margins and adjust BootstrapSizes minWidth value\n    const parent = element.parent();\n    const parentWrapSpace = (() => {\n      const computedStyles = window.getComputedStyle(parent[0]);\n      return (parseFloat(computedStyles.getPropertyValue('margin-left')) || 0) +\n        (parseFloat(computedStyles.getPropertyValue('margin-right')) || 0);\n    })();\n\n    // check if there is override for BootstrapSizes object\n    const sizes = scope.bootstrapSizes ? scope.bootstrapSizes : BootstrapSizes;\n\n    // memorize css column classes applied on the element and set minWidth\n    const classes = attrs.class.split(' ');\n    const responsiveData = sizes.map(size => {\n      const elementClass = classes.find(cssClass => cssClass.indexOf(size.classPrefix) > -1);\n      const minWidth = size.minWidth + parentWrapSpace < 0 ? 0 : size.minWidth + parentWrapSpace;\n      return { elementClass, minWidth };\n    });\n\n    const updateClasses = () => {\n      const parentWidth = parent[0].clientWidth;\n      // keep track of what happened in the next loop\n      // in case we remove all classes, class for the smallest\n      // media query should be re-attached\n      let lastAdded;\n      let firstRemoved;\n      let classAction;\n\n      responsiveData.forEach(responsiveItem => {\n        if (!responsiveItem.elementClass) {\n          return;\n        }\n\n        if (responsiveItem.minWidth <= parentWidth) {\n          classAction = 'addClass';\n          lastAdded = responsiveItem.elementClass;\n        } else {\n          classAction = 'removeClass';\n          firstRemoved = firstRemoved || responsiveItem.elementClass;\n        }\n\n        element[classAction](responsiveItem.elementClass);\n      });\n\n      if (!lastAdded && firstRemoved) {\n        element.addClass(firstRemoved);\n      }\n    };\n\n    element.ready(updateClasses);\n    angular.element(window).on('resize', updateClasses);\n    // add custom event listener in order to provide possibility to recalculate\n    // all of this on some other event (dynamic page)\n    element[0].addEventListener('parentResized', updateClasses);\n  },\n});\n\nexport default parentResponsivenessDirective;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-parent-responsiveness-ng/scripts/directive.js","/**\n * @name BootstrapSizes\n * @type {BootstrapSize[]}\n *\n * @description\n * Array of BootstrapSize objects\n */\nconst BootstrapSizes = [\n  {\n    minWidth: 0,\n    classPrefix: 'col-xs-',\n  },\n  {\n    minWidth: 768,\n    classPrefix: 'col-sm-',\n  },\n  {\n    minWidth: 992,\n    classPrefix: 'col-md-',\n  },\n  {\n    minWidth: 1200,\n    classPrefix: 'col-lg-',\n  },\n];\n\n/**\n * @typedef\n * @name BootstrapSize\n * @type {object}\n * @property {number} minWidth Minimum width at which class prefix should apply\n * @property {string} classPrefix Bootstrap class prefix to be used\n */\n\nexport default BootstrapSizes;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-parent-responsiveness-ng/scripts/constants.js"],"sourceRoot":""}