{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3e69e7ac968dbeea24c8","webpack:///./ui-bb-i18n-ng/model.xml","webpack:///./ui-bb-i18n-ng/scripts/index.js","webpack:///external \"vendor-bb-angular\"","webpack:///external \"lib-bb-i18n-ng\"","webpack:///./ui-bb-i18n-ng/scripts/i18n.directive.js"],"names":["module","filter","format","translate","key","data","directive","name","dataAttributePrefix","dataAttributes","attrs","Object","keys","map","attributeName","startsWith","withoutPrefix","attribute","slice","length","dataFromDataAttributes","scopeEval","$attr","reduce","acc","dataKey","$normalize","passedValue","assign","dataFromDataAttribute","i18nData","extractData","restrict","link","scope","element","i18nKey","expr","$eval","localized","html"],"mappings":"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","file":"ui-bb-i18n-ng/scripts/ui-bb-i18n-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"), require(\"lib-bb-i18n-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ui-bb-i18n-ng\", [\"vendor-bb-angular\", \"lib-bb-i18n-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ui-bb-i18n-ng\"] = factory(require(\"vendor-bb-angular\"), require(\"lib-bb-i18n-ng\"));\n\telse\n\t\troot[\"ui-bb-i18n-ng\"] = factory(root[\"vendor-bb-angular\"], root[\"lib-bb-i18n-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3e69e7ac968dbeea24c8","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-bb-i18n-ng/model.xml\n// module id = 0\n// module chunks = 0","/**\n * @module ui-bb-i18n-ng\n *\n * @description Filter and directive for translating message keys.\n *\n * @example\n * // In an extension:\n * // file: scripts/index.js\n * import uiBbI18nNgKey from 'ui-bb-i18n-ng';\n *\n * export const dependencyKeys = [\n *   uiBbI18nNgKey,\n * ];\n *\n * // file: assets/messages.json\n * {\n *   \"en-US\": {\n *     \"example.title\": \"Example Widget Title\",\n *     \"example.greeting\": \"Welcome, {name}!\"\n *   },\n *   \"nl-NL\": {\n *     \"example.title\": \"Voorbeeld Widget Titel\",\n *     \"example.greeting\": \"Welkom, {name}!\"\n *   }\n * }\n *\n * // file: templates/template.ng.html\n * <h1 i18n-key=\"example.title\"></h1>\n * <p i18n-key=\"example.greeting\" i18n-data-name=\"$ctrl.user.name\"></p>\n */\n\nimport angular from 'vendor-bb-angular';\n\nimport libBbI18nNgModuleKey, { bbTranslateKey, bbMessageFormatKey } from 'lib-bb-i18n-ng';\n\nimport i18nDirective from './i18n.directive';\n\n/**\n * The angular module name\n * @name default\n * @type {string}\n */\nexport default angular\n  .module('ui-bb-i18n-ng', [\n    libBbI18nNgModuleKey,\n  ])\n\n  /**\n   * Resolve a message from the translation messages, substituting placeholders with the values\n   * from the provided data. The filter is most useful when translating attributes where the\n   * directive form cannot be used or when the translation key is not a static value (e.g. it\n   * comes from model data).\n   *\n   * @name i18nFilter\n   *\n   * @example\n   * // file: messages.json\n   * {\n   *   \"example.profileImageAlt\": \"Profile image for {name}\"\n   * }\n   *\n   * // file: controller.js\n   * function MyController() {\n   *   const $ctrl = this;\n   *   $ctrl.user = {\n   *     name: 'Bob',\n   *   };\n   * }\n   *\n   * // file: template.ng.html\n   * <img src=\"...\" alt=\"{{'example.profileImageAlt' | i18n: { name: $ctrl.user.name } }}\" />\n   *\n   * // Result:\n   * <img src=\"...\" alt=\"Profile image for Bob\" />\n   *\n   * @type {function}\n   * @param key {string} The translation key\n   * @param data {object.<string>} The mapping of placeholder name to value to substitute\n   * @returns {string} The translated string with the available placeholders substituted.\n   *                   If no translation is available, the empty string.\n   */\n  .filter('i18n', [\n    bbMessageFormatKey,\n    bbTranslateKey,\n    /* into */\n    (format, translate) =>\n      (key, data) => key && format(translate(key), data),\n  ])\n\n  /**\n   * Display a message from the translation messages, substituting placeholders with the values\n   * from the provided data.\n   *\n   * The `i18n-key` attribute specifies the translation key to use. The data required for the\n   * placeholders can be provided in 2 ways, either as a map in the `i18n-data` attribute or as\n   * a series of `i18n-data-*` attributes, the two can also be mixed. If both provide a value\n   * for the same placeholder, the `i18n-data-*` attributes take precedence.\n   *\n   * @name i18nKey\n   *\n   * @example\n   * // file: messages.json\n   * {\n   *   \"example.greeting\": \"Hello, {name}\"\n   * }\n   *\n   * // file: controller.js\n   * function MyController() {\n   *   const $ctrl = this;\n   *   $ctrl.user = {\n   *     name: 'Bob',\n   *   };\n   * }\n   *\n   * // file: template.ng.html\n   * <h1 i18n-key=\"example.greeting\" i18n-data=\"{ name: $ctrl.user.name }\"</h1>\n   * <!-- or -->\n   * <h1 i18n-key=\"example.greeting\" i18n-data-name=\"$ctrl.user.name\"></h1>\n   *\n   * // Result:\n   * <h1>Hello, Bob</h1>\n   *\n   * @type {function}\n   * @param key {string} The translation key\n   * @param data {object.<string>} The mapping of placeholder name to value to substitute\n   * @returns {string} The translated string with the available placeholders substituted.\n   *                   If no translation is available, the empty string.\n   */\n  .directive('i18nKey', [\n    bbMessageFormatKey,\n    bbTranslateKey,\n    /* into */\n    i18nDirective,\n  ])\n\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-i18n-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 2\n// module chunks = 0 1","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lib-bb-i18n-ng\"\n// module id = 3\n// module chunks = 0","const dataAttributePrefix = 'i18n-data-';\n\nconst dataAttributes = (attrs) => Object.keys(attrs)\n        .map(attributeName => attrs[attributeName])\n        .filter(attributeName => attributeName.startsWith(dataAttributePrefix));\n\nconst withoutPrefix = attribute =>\n        attribute.slice(dataAttributePrefix.length);\n\nconst dataFromDataAttributes = (attrs, scopeEval) => dataAttributes(attrs.$attr)\n        .reduce((acc, attributeName) => {\n          const dataKey = attrs.$normalize(withoutPrefix(attributeName));\n          const passedValue = scopeEval(attrs[attrs.$normalize(attributeName)]);\n          return Object.assign({}, acc, {\n            [dataKey]: passedValue,\n          });\n        }, {});\n\nconst dataFromDataAttribute = (attrs, scopeEval) =>\n        scopeEval(attrs.i18nData);\n\nconst extractData = (attrs, scopeEval) =>\n        Object.assign(\n          {},\n          dataFromDataAttribute(attrs, scopeEval),\n          dataFromDataAttributes(attrs, scopeEval)\n        );\n\nexport default (format, translate) => ({\n  restrict: 'A',\n  link: (scope, element, attrs) => {\n    const key = attrs.i18nKey;\n    const data = extractData(attrs, (expr) => scope.$eval(expr));\n    const localized = key ? format(translate(key), data) : '';\n\n    element.html(localized);\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-i18n-ng/scripts/i18n.directive.js"],"sourceRoot":""}