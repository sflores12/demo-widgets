{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6**************************","webpack:///webpack/bootstrap dcaf2abb135ce9e57553?c844**************************","webpack:///./ui-bb-search-box-ng/model.xml","webpack:///external \"vendor-bb-angular\"?a114**************************","webpack:///./ui-bb-search-box-ng/scripts/index.js","webpack:///./ui-bb-search-box-ng/scripts/component.js","webpack:///./ui-bb-search-box-ng/scripts/constants.js","webpack:///./ui-bb-search-box-ng/scripts/controller.js"],"names":["module","component","controller","name","bindings","config","disabled","ngModel","onChange","onSubmit","onClear","isLoading","forcedSubmit","template","MODULE_KEY","CONTROLLER_KEY","COMPONENT_KEY","element","ctrl","ngModelCtrl","input","find","eq","state","KeyCodes","ENTER","getSearchValue","search","value","hasValue","Boolean","trim","allowRequest","valueChanged","setFocus","focus","setValue","$setViewValue","submitSearch","onStateChange","resetSearch","clear","onKeyup","event","keyCode","$onChanges","currentValue","previousValue","isFirstChange","Object","assign"],"mappings":"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","file":"ui-bb-search-box-ng/scripts/ui-bb-search-box-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ui-bb-search-box-ng\", [\"vendor-bb-angular\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ui-bb-search-box-ng\"] = factory(require(\"vendor-bb-angular\"));\n\telse\n\t\troot[\"ui-bb-search-box-ng\"] = factory(root[\"vendor-bb-angular\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dcaf2abb135ce9e57553","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-bb-search-box-ng/model.xml\n// module id = 0\n// module chunks = 27","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 2\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40","/**\n * @module ui-bb-search-box-ng\n *\n * @description\n * Search box component supporting typeahead and submit search,\n * including clear text button\n *\n * @example\n * // In an extension:\n * // file: scripts/index.js\n * import uiBbSearchBoxNgKey from 'ui-bb-search-box-ng';\n *\n * export const dependencyKeys = [\n *   uiBbSearchBoxNgKey,\n * ];\n *\n * // file: templates/template.ng.html\n * <ui-bb-search-box-ng\n *   config=\"{\n *     labels: {\n *       title: 'Search',\n *       placeholder: 'Enter search text...',\n *       clear: 'Clear text',\n *       submit: 'Submit search',\n *     }\n *   }\"\n *   on-change=\"(search) => {}\"\n *   on-submit=\"(search) => {}\">\n * </ui-bb-search-box-ng>\n */\n\nimport angular from 'vendor-bb-angular';\nimport component from './component';\nimport controller from './controller';\n\nimport { COMPONENT_KEY, CONTROLLER_KEY, MODULE_KEY } from './constants';\n\n/**\n * The angular module name\n * @name default\n * @type {string}\n */\nexport default angular\n  .module(MODULE_KEY, [])\n  .component(COMPONENT_KEY, component)\n  .controller(CONTROLLER_KEY, [\n    '$element',\n    /* Into */\n    controller,\n  ])\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-search-box-ng/scripts/index.js","import { CONTROLLER_KEY } from './constants';\n\n/**\n * @name uiBBSearchBoxComponent\n * @type {object}\n *\n * @property {Config}    config         Configuration object\n * @property {?Boolean}  disabled       Enables/disabled component\n * @property {String}    ngModel        Component model value\n * @property {?Function} onChange       Function to attach to on change event,\n *                                      it will be called every time user adds\n *                                      text to component\n * @property {?Function} onSubmit       Function to attach to on submit event,\n *                                      the component will be submitted\n *                                      after user pressed enter and it\n *                                      has a value\n * @property {?Function} onClear        Function to attach to on clear event,\n *                                      when clicking clear button event will be fired.\n * @property {boolean}   isLoading      Controls whether or not loading indicator is visible\n * @property {boolean}   forcedSubmit   Controls whether or not onSubmit callback\n *                                      should be triggered regardless to state of ngModel\n *\n */\n\n/**\n * Config type definition\n * @typedef {Object} Config\n * @property {String}   id              Id of the input\n * @property {String}   name            Name of the input\n * @property {?Number}  debounce        Time in ms to start search after writting,\n *                                      0 to start search immediately after writing\n * @property {?Boolean} hideButton      Controls whether or not should hide action button\n * @property {?Boolean} showIcon        Controls whether or not should show search icon\n * @property {?String}  iconClasses     String with css-classes for button icon\n * @property {Labels}   Labels          Texts used in component\n */\n\n/**\n * Labels type definition\n * @typedef {Object} Labels\n*  @property {String} title             Accessibility label for component\n * @property {String} placeholder       Placeholder label for the search input\n * @property {String} clear             Accesibility label for clear button\n * @property {String} button            Accesibility label for main button\n */\nconst component = {\n  bindings: {\n    config: '<',\n    disabled: '<',\n    ngModel: '<',\n    onChange: '&',\n    onSubmit: '&',\n    onClear: '&',\n    isLoading: '<',\n    forcedSubmit: '<',\n  },\n  controller: CONTROLLER_KEY,\n  template: `\n    <div class=\"bb-search-box\"\n      data-ng-class=\"{\n        empty: !$ctrl.hasValue(),\n        disabled: $ctrl.disabled\n      }\">\n      <label for=\"bb-search-box-{{ $ctrl.config.id }}\"\n        class=\"sr-only\"\n        data-ng-bind=\"$ctrl.config.labels.title\">\n      </label>\n      <span class=\"bb-search-box-icon text-center\"\n        data-ng-if=\"::$ctrl.config.showIcon\">\n        <i aria-hidden=\"true\" class=\"fa fa-search\"></i>\n      </span>\n      <button type=\"button\"\n        class=\"close bb-search-box-clear\"\n        data-ng-class=\"{ 'shift-right': $ctrl.config.hideButton }\"\n        data-role=\"search-clear-button\"\n        data-ng-attr-aria-label=\"{{ $ctrl.config.labels.clear }}\"\n        data-ng-disabled=\"$ctrl.disabled\"\n        data-ng-click=\"$ctrl.clear()\"\n        data-ng-show=\"$ctrl.hasValue() && !$ctrl.state.isLoading\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <span class=\"bb-search-box-spinner\"\n        data-ng-class=\"{ 'shift-right': $ctrl.config.hideButton }\"\n        data-ng-attr-aria-label=\"{{ $ctrl.config.labels.loading }}\"\n        data-ng-show=\"$ctrl.state.isLoading\">\n      </span>\n      <div class=\"bb-search-box-wrapper\"\n        data-ng-class=\"{ 'input-group': !$ctrl.config.hideButton }\">\n        <input type=\"search\"\n          id=\"bb-search-box-{{ $ctrl.config.id }}\"\n          name=\"{{ $ctrl.config.name }}\"\n          autocomplete=\"off\"\n          class=\"form-control bb-search-box-input\"\n          data-role=\"search-input\"\n          placeholder=\"{{ $ctrl.config.labels.placeholder }}\"\n          data-ng-disabled=\"$ctrl.disabled\"\n          data-ng-change=\"$ctrl.setValue()\"\n          data-ng-keyup=\"$ctrl.onKeyup($event)\"\n          data-ng-model=\"$ctrl.state.value\"\n          data-ng-class=\"{ 'pl-7': $ctrl.config.showIcon }\"\n          data-ng-model-options=\"{ debounce: $ctrl.config.debounce || 0 }\">\n        <span class=\"input-group-btn\" data-ng-if=\"!$ctrl.config.hideButton\">\n          <button type=\"button\"\n            class=\"btn btn-default\"\n            data-role=\"search-button\"\n            data-ng-attr-aria-label=\"{{ $ctrl.config.labels.submit }}\"\n            data-ng-disabled=\"$ctrl.disabled\"\n            data-ng-click=\"$ctrl.submitSearch()\">\n            <i aria-hidden=\"true\" data-ng-class=\"$ctrl.config.iconClasses || 'fa fa-search'\"></i>\n          </button>\n        </span>\n      </div>\n    </div>\n  `,\n};\n\nexport default component;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-search-box-ng/scripts/component.js","export const MODULE_KEY = 'ui-bb-search-box-ng';\n\nexport const CONTROLLER_KEY = `${MODULE_KEY}:controller`;\n\nexport const COMPONENT_KEY = 'uiBbSearchBoxNg';\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-search-box-ng/scripts/constants.js","export default function controller(element) {\n  const ctrl = this;\n\n  const ngModelCtrl = element.controller('ngModel');\n  const input = element.find('input').eq(0);\n\n  const state = {};\n\n  const KeyCodes = {\n    ENTER: 13,\n  };\n\n  const getSearchValue = () => ({ search: state.value });\n\n  const hasValue = () => Boolean(ctrl.state.value && ctrl.state.value.trim());\n\n  const allowRequest = () => ctrl.state.valueChanged || ctrl.forcedSubmit;\n\n  const setFocus = () => { input[0].focus(); };\n\n  const setValue = () => { ngModelCtrl.$setViewValue(state.value); };\n\n  const submitSearch = () => {\n    if (allowRequest()) {\n      ctrl.state.valueChanged = false;\n      ctrl.onSubmit(getSearchValue());\n    }\n  };\n\n  const onStateChange = (search) => {\n    state.value = search;\n    ctrl.onChange(getSearchValue());\n\n    if (state.resetSearch) {\n      state.resetSearch = false;\n      ctrl.onClear();\n      setFocus();\n    }\n  };\n\n  const clear = () => {\n    state.resetSearch = true;\n    state.value = null;\n    setValue();\n  };\n\n  const onKeyup = (event) => {\n    if (event.keyCode === KeyCodes.ENTER && allowRequest()) {\n      ctrl.state.valueChanged = false;\n      ctrl.onSubmit(getSearchValue());\n    }\n  };\n\n  const $onChanges = ({ ngModel, isLoading }) => {\n    if (ngModel && ngModel.currentValue !== ngModel.previousValue) {\n      if (!ngModel.isFirstChange()) {\n        ctrl.state.valueChanged = true;\n      }\n      onStateChange(ngModel.currentValue);\n    }\n\n    if (isLoading && isLoading.currentValue !== isLoading.previousValue) {\n      state.isLoading = isLoading.currentValue;\n    }\n  };\n\n  Object.assign(ctrl, {\n    $onChanges,\n\n    state,\n    setValue,\n    clear,\n    hasValue,\n    onKeyup,\n    submitSearch,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-search-box-ng/scripts/controller.js"],"sourceRoot":""}