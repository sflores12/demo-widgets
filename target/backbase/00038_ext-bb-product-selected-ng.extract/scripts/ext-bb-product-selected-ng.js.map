{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6****","webpack:///webpack/bootstrap b6e6496f5522437c4c2f?95fa****","webpack:///./ext-bb-product-selected-ng/model.xml","webpack:///external \"ui-bb-loading-indicator-ng\"?8f10","webpack:///external \"ui-bb-i18n-ng\"?dc01***","webpack:///./ext-bb-product-selected-ng/scripts/index.js","webpack:///external \"ui-bb-product-summary-ng\"","webpack:///./ext-bb-product-selected-ng/scripts/product-kind-view.js"],"names":["dependencyKeys","hooks","processProductSelected","maskCardNumber","suffix","defaultViewModel","product","id","name","viewModelFactories","currentAccounts","identifier","IBAN","BBAN","primaryValue","bookedBalance","secondaryValue","availableBalance","secondaryLabel","currency","savingsAccounts","accruedInterest","termDeposits","principalAmount","creditCards","cardNumberSuffix","creditLimit","debitCards","loans","investmentAccounts","currentInvestmentValue","kind"],"mappings":"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","file":"ext-bb-product-selected-ng/scripts/ext-bb-product-selected-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"ui-bb-loading-indicator-ng\"), require(\"ui-bb-i18n-ng\"), require(\"ui-bb-product-summary-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ext-bb-product-selected-ng\", [\"ui-bb-loading-indicator-ng\", \"ui-bb-i18n-ng\", \"ui-bb-product-summary-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ext-bb-product-selected-ng\"] = factory(require(\"ui-bb-loading-indicator-ng\"), require(\"ui-bb-i18n-ng\"), require(\"ui-bb-product-summary-ng\"));\n\telse\n\t\troot[\"ext-bb-product-selected-ng\"] = factory(root[\"ui-bb-loading-indicator-ng\"], root[\"ui-bb-i18n-ng\"], root[\"ui-bb-product-summary-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_25__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b6e6496f5522437c4c2f","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ext-bb-product-selected-ng/model.xml\n// module id = 0\n// module chunks = 4","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-loading-indicator-ng\"\n// module id = 4\n// module chunks = 0 4 5","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-i18n-ng\"\n// module id = 8\n// module chunks = 0 1 2 4 5 6 7 8 9 10 11 12","/**\n * @module ext-bb-product-selected-ng\n *\n * @description\n * Extension for product summary widget to show currently selected product\n *\n * @requires ui-bb-product-summary-ng\n *\n * @example\n * <!-- payment widget model.xml -->\n * <property name=\"extension\" viewHint=\"text-input,admin\">\n *  <value type=\"string\">ext-bb-product-selected-ng</value>\n * </property>\n */\nimport uiBbProductSummaryNgKey from 'ui-bb-product-summary-ng';\nimport uiBbLoadingIndicatorKey from 'ui-bb-loading-indicator-ng';\nimport i18nNgKey from 'ui-bb-i18n-ng';\n\nimport processProductSelected from './product-kind-view';\n\nexport const dependencyKeys = [\n  uiBbProductSummaryNgKey,\n  uiBbLoadingIndicatorKey,\n  i18nNgKey,\n];\n\n/**\n * @name Hooks\n * @type {object}\n *\n * @description\n * Hooks for widget-bb-product-summary-ng\n */\nexport const hooks = {\n  /**\n   * @name processProductSelected\n   * @description\n   * Hook for processing selected product after selection update\n   *\n   * @type {function}\n   * @param {object} product The source Product from the widget controller\n   * @returns {ProductView}\n   */\n  processProductSelected,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-product-selected-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_25__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-product-summary-ng\"\n// module id = 25\n// module chunks = 4","\nconst maskCardNumber = (suffix) => `XXXX-XXXX-XXXX-${suffix}`;\n\nconst defaultViewModel = (product) => ({\n  id: product.id,\n  name: product.name,\n});\n\nconst viewModelFactories = {\n  currentAccounts: (product) => ({\n    id: product.id,\n    name: product.name,\n    identifier: product.IBAN || product.BBAN,\n    primaryValue: product.bookedBalance,\n    secondaryValue: product.availableBalance,\n    secondaryLabel: 'label.available',\n    currency: product.currency,\n  }),\n\n  savingsAccounts: (product) => ({\n    id: product.id,\n    name: product.name,\n    identifier: product.IBAN || product.BBAN,\n    primaryValue: product.bookedBalance,\n    secondaryValue: product.accruedInterest,\n    currency: product.currency,\n  }),\n\n  termDeposits: (product) => ({\n    id: product.id,\n    name: product.name,\n    primaryValue: product.bookedBalance,\n    secondaryValue: product.principalAmount,\n    currency: product.currency,\n  }),\n\n  creditCards: (product) => ({\n    id: product.id,\n    name: product.name,\n    identifier: maskCardNumber(product.cardNumberSuffix),\n    primaryValue: product.bookedBalance,\n    secondaryValue: product.creditLimit,\n    currency: product.currency,\n  }),\n\n  debitCards: (product) => ({\n    id: product.id,\n    name: product.name,\n    identifier: maskCardNumber(product.cardNumberSuffix),\n  }),\n\n  loans: (product) => ({\n    id: product.id,\n    name: product.name,\n    primaryValue: product.bookedBalance,\n    secondaryValue: product.principalAmount,\n    currency: product.currency,\n  }),\n\n  investmentAccounts: (product) => ({\n    id: product.id,\n    name: product.name,\n    primaryValue: product.currentInvestmentValue,\n    currency: product.currency,\n  }),\n};\n\n/**\n * Prepare the fields of a Product into a form ready for display to the User\n *\n * @inner\n * @param {object} product The source Product from the API\n * @returns {ProductView}\n */\nexport default (product) =>\n  viewModelFactories[product.kind](product) || defaultViewModel(product);\n\n/**\n * @typedef {Object} ProductView\n * @property {string} id The internal Product Identifier\n * @property {string} name The product's name, suitable for display to users\n * @property {?string} identifier The identifier of the Product from the user's perspective\n * @property {?string} primaryValue The most important associated value to be displayed\n * @property {?string} secondaryValue A secondary associated value to be displayed\n * @property {?string} secondaryLabel A label to describe the secondary value\n * @property {?string} currency ISO currency code\n */\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-product-selected-ng/scripts/product-kind-view.js"],"sourceRoot":""}