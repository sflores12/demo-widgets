{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6********","webpack:///webpack/bootstrap 5be62e011dbef719fb37?cc87********","webpack:///./ui-bb-transaction-search-filter-ng/model.xml","webpack:///external \"vendor-bb-angular\"?a114*","webpack:///./ui-bb-transaction-search-filter-ng/scripts/index.js","webpack:///external \"ui-bb-calendar-popup-ng\"","webpack:///external \"ui-bb-track-form-changes-ng\"","webpack:///external \"ui-bb-search-box-ng\"","webpack:///./ui-bb-transaction-search-filter-ng/scripts/component.js","webpack:///./ui-bb-transaction-search-filter-ng/scripts/controller.js"],"names":["module","component","controller","name","uiBbTransactionSearchFilterComponent","bindings","onFilter","buttonLabels","fieldLabels","onClearFilter","currencies","template","uiBbTransactionSearchFilterController","$ctrl","state","isFilterOpen","filterParams","query","amountFrom","amountTo","currency","dateRange","startDate","endDate","creditDebitIndicator","value","credit","debit","calendarPopupConfig","minDate","maxDate","Date","maxMode","toggleFilter","getNormalizedDate","date","undefined","userOffset","getTimezoneOffset","toISOString","slice","normalizeQueryParam","param","getParams","Object","assign","fromDate","toDate","resetFormState","form","$setUntouched","$setPristine","onApplyFilter","params","validateAmountKeypress","event","validKey","metaKey","which","test","String","fromCharCode","preventDefault","validateAmountPaste","pasteData","clipboardData","getData","match","isFormValid","$pristine","$invalid"],"mappings":"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","file":"ui-bb-transaction-search-filter-ng/scripts/ui-bb-transaction-search-filter-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"), require(\"ui-bb-calendar-popup-ng\"), require(\"ui-bb-track-form-changes-ng\"), require(\"ui-bb-search-box-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ui-bb-transaction-search-filter-ng\", [\"vendor-bb-angular\", \"ui-bb-calendar-popup-ng\", \"ui-bb-track-form-changes-ng\", \"ui-bb-search-box-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ui-bb-transaction-search-filter-ng\"] = factory(require(\"vendor-bb-angular\"), require(\"ui-bb-calendar-popup-ng\"), require(\"ui-bb-track-form-changes-ng\"), require(\"ui-bb-search-box-ng\"));\n\telse\n\t\troot[\"ui-bb-transaction-search-filter-ng\"] = factory(root[\"vendor-bb-angular\"], root[\"ui-bb-calendar-popup-ng\"], root[\"ui-bb-track-form-changes-ng\"], root[\"ui-bb-search-box-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_66__, __WEBPACK_EXTERNAL_MODULE_67__, __WEBPACK_EXTERNAL_MODULE_68__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5be62e011dbef719fb37","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-bb-transaction-search-filter-ng/model.xml\n// module id = 0\n// module chunks = 9","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 2\n// module chunks = 0 8 9 10","/**\n * @module ui-bb-transaction-search-filter-ng\n * @description\n * UI transaction-search filter component\n *\n * @example\n * // In an extension:\n * // file: scripts/index.js\n * import uiBbTransactionSearchFilterKey from 'ui-bb-transaction-search-filter-ng';\n *\n * export const dependencyKeys = [\n *   uiBbTransactionSearchFilterKey,\n * ];\n *\n * // file: templates/template.ng.html\n * <ui-bb-transaction-search-filter-ng\n * on-filter=\"$ctrl.filter()\"\n * button-labels=\"{\n *  main: 'Filter',\n *  apply: 'Apply',\n *  cancel: 'Cancel',\n * }\"\n * field-labels=\"{\n *  transaction: 'Transaction',\n *  credit: 'Credit',\n *  debit: 'Debit',\n *  dateRange: 'Date range',\n *  amountRange: 'Amount range',\n *  amountFrom: 'Amount from',\n *  amountTo: 'Amount to',\n * }\"\n * on-clear-filter=\"$ctrl.clearFilter\">\n * </ui-bb-transaction-search-filter-ng>\n */\n\nimport angular from 'vendor-bb-angular';\nimport uiBbCalendarPopupNgKey from 'ui-bb-calendar-popup-ng';\nimport uiBbTrackChangesKey from 'ui-bb-track-form-changes-ng';\nimport uiBbSearchBoxKey from 'ui-bb-search-box-ng';\n\nimport Component from './component';\nimport Controller from './controller';\n\n/**\n * @name default\n * @type {string}\n * @description The angular module name\n */\n\nexport default angular\n  .module('ui-bb-transaction-search-filter-ng', [\n    uiBbCalendarPopupNgKey,\n    uiBbTrackChangesKey,\n    uiBbSearchBoxKey,\n  ])\n  .component('uiBbTransactionSearchFilter', Component)\n  .controller('uiBbTransactionSearchFilterController', ['$scope', Controller])\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-transaction-search-filter-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_66__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-calendar-popup-ng\"\n// module id = 66\n// module chunks = 9","module.exports = __WEBPACK_EXTERNAL_MODULE_67__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-track-form-changes-ng\"\n// module id = 67\n// module chunks = 9","module.exports = __WEBPACK_EXTERNAL_MODULE_68__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-search-box-ng\"\n// module id = 68\n// module chunks = 9","const uiBbTransactionSearchFilterComponent = {\n  controller: 'uiBbTransactionSearchFilterController',\n  bindings: {\n    onFilter: '&',\n    buttonLabels: '<',\n    fieldLabels: '<',\n    onClearFilter: '=',\n    currencies: '<',\n  },\n  template: `\n    <div class=\"panel panel-flat\">\n      <div class=\"panel-heading\">\n        <div class=\"input-group\">\n          <ui-bb-search-box-ng\n            class=\"pull-left\"\n            data-config=\"{\n              hideButton: false,\n              showIcon: false,\n              labels: {\n                title: $ctrl.fieldLabels.search,\n                placeholder: $ctrl.fieldLabels.search,\n                clear: $ctrl.fieldLabels.clearSearch,\n                submit: $ctrl.fieldLabels.submitSearch,\n              }\n            }\"\n            data-ng-model=\"$ctrl.filterParams.query\"\n            data-on-submit=\"$ctrl.onApplyFilter(searchFilterForm)\"\n            data-on-clear=\"$ctrl.onApplyFilter(searchFilterForm)\">\n          </ui-bb-search-box-ng>\n          <button\n            type=\"button\"\n            data-ng-class=\"{ 'active' : $ctrl.state.isFilterOpen }\"\n            class=\"btn btn-default btn-filter pull-left\"\n            data-role=\"filter\"\n            data-ng-click=\"$ctrl.toggleFilter()\"\n            title=\"{{ $ctrl.buttonLabels.main}}\">\n            <i class=\"fa fa-filter\" aria-hidden=\"true\"></i>\n            {{ $ctrl.buttonLabels.main }}\n          </button>\n        </div>\n      </div>\n      \n      <form data-role=\"search\"\n        name=\"searchFilterForm\"\n        data-ng-submit=\"$ctrl.onApplyFilter(searchFilterForm)\"\n        data-ui-bb-track-changes=\"$ctrl.filterParams\">\n        \n        <div data-ng-show=\"$ctrl.state.isFilterOpen\">\n          <div class=\"panel-body panel-body-dark\">\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <div class=\"form-group\">\n                  <label data-role=\"credit-debit-indicator-label\">\n                    {{ $ctrl.fieldLabels.transaction }}\n                  </label>\n                  <div>\n                    <select class=\"form-control\"\n                      data-ng-model=\"$ctrl.filterParams.creditDebitIndicator.value\"\n                      data-role=\"select-debit-credit\">\n                      <option value=\"\" disabled>{{ $ctrl.fieldLabels.select }}</option>\n                      <option data-role=\"credit\"\n                        value=\"{{ $ctrl.filterParams.creditDebitIndicator.credit }}\">\n                        {{ $ctrl.fieldLabels.credit }}\n                      </option>\n                      <option data-role=\"debit\"\n                        value=\"{{ $ctrl.filterParams.creditDebitIndicator.debit }}\">\n                        {{$ctrl.fieldLabels.debit}}\n                      </option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-md-6\" data-ng-if=\"$ctrl.currencies\">\n                <div class=\"form-group\">\n                  <label data-role=\"currency-label\">{{ $ctrl.fieldLabels.currency }}</label>\n                  <div>\n                    <select class=\"form-control\"\n                      data-ng-model=\"$ctrl.filterParams.currency\"\n                      data-role=\"select-currency\">\n                      <option\" value=\"\" disabled>{{ $ctrl.fieldLabels.select }}</option>\n                      <option\n                        data-ng-repeat=\"currency in $ctrl.currencies\"\n                        data-role=\"currency-{{ currency.name }}\"\n                        value=\"{{ currency.name }}\">\n                        {{ currency.name }}\n                      </option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <label data-role=\"amount-range-label\">{{ $ctrl.fieldLabels.amountRange }}</label>\n                <div class=\"row\">\n                  <div class=\"col-md-6\">\n                    <div class=\"form-group\">\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        class=\"amount-range-start form-control\"\n                        data-ng-model=\"$ctrl.filterParams.amountFrom\"\n                        data-ng-keypress=\"$ctrl.validateAmountKeypress($event)\"\n                        data-ng-paste=\"$ctrl.validateAmountPaste($event)\"\n                        placeholder=\"{{ $ctrl.fieldLabels.amountFrom }}\"\n                        title=\"{{ $ctrl.fieldLabels.amountFrom }}\"\n                        data-role=\"amount-from\"/>\n                      </div>\n                  </div>\n                  <div class=\"col-md-6\">\n                    <div class=\"form-group\">\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        class=\"amount-range-end form-control\"\n                        data-ng-model=\"$ctrl.filterParams.amountTo\"\n                        data-ng-keypress=\"$ctrl.validateAmountKeypress($event)\"\n                        data-ng-paste=\"$ctrl.validateAmountPaste($event)\"\n                        placeholder=\"{{ $ctrl.fieldLabels.amountTo }}\"\n                        title=\"{{ $ctrl.fieldLabels.amountTo }}\"\n                        data-role=\"amount-to\"/>\n                      </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-md-6\">\n                <div class=\"form-group\">\n                  <label data-role=\"date-range-label\">{{ $ctrl.fieldLabels.dateRange }}</label>\n                  <ui-bb-calendar-popup\n                    class=\"date-range-start\"\n                    data-config=\"$ctrl.calendarPopupConfig\"\n                    data-date-range=\"$ctrl.filterParams.dateRange\"\n                    disabled=\"false\"\n                    data-role=\"from-date\">\n                  </ui-bb-calendar-popup>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"panel-footer panel-footer-darker\">\n            <div class=\"row\">\n              <div class=\"col-xs-12\">\n                <div class=\"hidden-xs text-right\">\n                  <button \n                    type=\"button\"\n                    class=\"btn btn-link\"\n                    data-ng-show=\"searchFilterForm.$dirty\"\n                    data-ng-click=\"$ctrl.onClearFilter(searchFilterForm)\"\n                    title=\"{{ $ctrl.buttonLabels.clearAll }}\"\n                    data-role=\"clear-all\">\n                    {{ $ctrl.buttonLabels.clearAll }}\n                  </button>\n                  <button\n                    type=\"button\" \n                    class=\"btn btn-default\"\n                    data-ng-click=\"$ctrl.toggleFilter()\"\n                    title=\"{{ $ctrl.buttonLabels.closePanel }}\"\n                    data-role=\"cancel\">\n                    {{ $ctrl.buttonLabels.closePanel }}\n                  </button>\n                  <button\n                    data-ng-disabled=\"$ctrl.isFormValid(searchFilterForm)\"\n                    class=\"btn btn-primary\"\n                    title=\"{{ $ctrl.buttonLabels.apply }}\"\n                    data-ng-click=\"$ctrl.toggleFilter()\"\n                    data-role=\"apply\">\n                    {{ $ctrl.buttonLabels.apply }}\n                  </button>\n                </div>\n                <div class=\"visible-xs\">\n                  <button\n                    data-ng-disabled=\"$ctrl.isFormValid(searchFilterForm)\"\n                    class=\"btn btn-primary btn-block\"\n                    title=\"{{ $ctrl.buttonLabels.apply }}\"\n                    data-ng-click=\"$ctrl.toggleFilter()\"\n                    data-role=\"apply\">\n                    {{ $ctrl.buttonLabels.apply }}\n                  </button>\n                  <button\n                    type=\"button\" \n                    class=\"btn btn-default btn-block\"\n                    data-ng-click=\"$ctrl.toggleFilter()\"\n                    title=\"{{ $ctrl.buttonLabels.closePanel }}\"\n                    data-role=\"cancel\">\n                    {{ $ctrl.buttonLabels.closePanel }}\n                  </button>\n                  <button \n                    type=\"button\"\n                    class=\"btn btn-link btn-block\"\n                    data-ng-show=\"searchFilterForm.$dirty\"\n                    data-ng-click=\"$ctrl.onClearFilter(searchFilterForm)\"\n                    title=\"{{ $ctrl.buttonLabels.clearAll }}\"\n                    data-role=\"clear-all\">\n                    {{ $ctrl.buttonLabels.clearAll }}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  `,\n};\n\nexport default uiBbTransactionSearchFilterComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-transaction-search-filter-ng/scripts/component.js","export default function uiBbTransactionSearchFilterController() {\n  /**\n   * @name uiBbTransactionSearchFilterController\n   * @ngkey uiBbTransactionSearchFilterController\n   * @type {object}\n   * @description TransactionSearch filter controller\n   */\n  const $ctrl = this;\n\n   /**\n   * @description\n   * state object.\n   *\n   * @name uiBbTransactionSearchFilterController#state\n   * @type {object}\n   */\n  const state = {\n    isFilterOpen: false,\n  };\n\n  /**\n   * @description\n   * `filterParams` parameters object.\n   *\n   * @name uiBbTransactionSearchFilterController#filterParams\n   * @type {object}\n   */\n  const filterParams = {\n    query: '',\n    amountFrom: null,\n    amountTo: null,\n    currency: null,\n    dateRange: {\n      startDate: null,\n      endDate: null,\n    },\n    creditDebitIndicator: {\n      value: null,\n      credit: 'CRDT',\n      debit: 'DBIT',\n    },\n  };\n\n  const calendarPopupConfig = { minDate: null, maxDate: new Date(), maxMode: 'year' };\n\n  /**\n   * @description\n   * Toggle filter component.\n   *\n   * @public\n   * @name uiBbTransactionSearchFilterController#toggleFilter\n   * @type {function}\n   * @returns {boolean} A status of filter component\n   */\n  const toggleFilter = () => (state.isFilterOpen = !state.isFilterOpen);\n\n  /**\n   * @description\n   * Normalize date to required format.\n   *\n   * @inner\n   * @name uiBbTransactionSearchFilterController#getNormalizedDate\n   * @type {function}\n   * @returns {Date|null} Date object or null\n   */\n  const getNormalizedDate = (date) => {\n    if (date === null || date === undefined) {\n      return null;\n    }\n    const userOffset = date.getTimezoneOffset() * 60000;\n    return `${new Date(date - userOffset).toISOString().slice(0, 10)}`;\n  };\n\n  /**\n   * @description\n   * Normalize search query param.\n   *\n   * @inner\n   * @name uiBbTransactionSearchFilterController#normalizeQueryParam\n   * @type {function}\n   * @returns {Object|null} Object or null\n   */\n  const normalizeQueryParam = param => (param === '' ? null : param);\n\n  /**\n   * @description\n   * Get all filter params.\n   *\n   * @inner\n   * @name uiBbTransactionSearchFilterController#getParams\n   * @type {function}\n   * @returns {Promise} A Promise that adds values to a given argument\n   */\n  const getParams = () => Object.assign({}, {\n    query: normalizeQueryParam(filterParams.query),\n    fromDate: getNormalizedDate(filterParams.dateRange.startDate),\n    toDate: getNormalizedDate(filterParams.dateRange.endDate),\n    amountFrom: filterParams.amountFrom,\n    amountTo: filterParams.amountTo,\n    currency: filterParams.currency,\n    creditDebitIndicator: filterParams.creditDebitIndicator.value,\n  });\n\n  /**\n   * @description\n   * Reset form state method.\n   *\n   * @inner\n   * @name uiBbTransactionSearchFilterController#resetFormState\n   * @type {function}\n   */\n  const resetFormState = form => {\n    if (form) {\n      form.$setUntouched();\n      form.$setPristine();\n    }\n  };\n\n  /**\n   * @description\n   * Call filter method.\n   *\n   * @name uiBbTransactionSearchFilterController#onApplyFilter\n   * @type {function}\n   */\n  const onApplyFilter = () => {\n    $ctrl.onFilter({ params: getParams() });\n  };\n\n  /**\n   * @description\n   * Reset filter parameters.\n   *\n   * @name uiBbTransactionSearchFilterController#onClearFilter\n   * @type {function}\n   */\n  const onClearFilter = (form) => {\n    Object.assign(filterParams, {\n      amountFrom: null,\n      amountTo: null,\n      currency: null,\n      creditDebitIndicator: {\n        value: null,\n        credit: 'CRDT',\n        debit: 'DBIT',\n      },\n      dateRange: {\n        startDate: null,\n        endDate: null,\n      },\n    });\n\n    onApplyFilter(form);\n    resetFormState(form);\n  };\n\n  /**\n   * @description\n   * Validates the key pressed in the number input field.\n   * Prevents the event if the key is an invalid one (not a number)\n   * Allows arrow keys\n   *\n   * @public\n   * @name uiBbTransactionSearchFilterController#validateAmountKeypress\n   * @type {function}\n   * @param {KeyboardEvent} event - the browser event\n   */\n  const validateAmountKeypress = (event) => {\n    const validKey = event.metaKey // ctrl/alt/cmd\n      || event.which <= 0 // arrow keys\n      || event.which === 8 // delete key\n      || /[0-9]/.test(String.fromCharCode(event.which)); // numbers\n\n    if (!validKey) {\n      event.preventDefault();\n    }\n  };\n\n  /**\n   * @description\n   * Validates the pasted value in the input field.\n   * Prevents the event if the value is an invalid one (not a number)\n   *\n   * @public\n   * @name uiBbTransactionSearchFilterController#validateAmountPaste\n   * @type {function}\n   * @param {KeyboardEvent} event - the browser event\n   */\n  const validateAmountPaste = (event) => {\n    const pasteData = event.clipboardData.getData('text/plain');\n    if (pasteData.match(/[^0-9]/)) {\n      event.preventDefault();\n    }\n  };\n\n  /**\n   * @description\n   * Check if form state is pristine or invalid.\n   *\n   * @public\n   * @name uiBbTransactionSearchFilterController#isFormValid\n   * @type {function}\n   */\n  const isFormValid = (form) => (!form || form.$pristine || form.$invalid);\n\n  Object.assign($ctrl, {\n    state,\n    calendarPopupConfig,\n    filterParams,\n    onApplyFilter,\n    onClearFilter,\n    toggleFilter,\n    isFormValid,\n    validateAmountKeypress,\n    validateAmountPaste,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-transaction-search-filter-ng/scripts/controller.js"],"sourceRoot":""}