{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*********","webpack:///webpack/bootstrap b6e6496f5522437c4c2f?95fa*********","webpack:///./ext-bbm-product-summary-ng/model.xml","webpack:///external \"ui-bb-i18n-ng\"?dc01*******","webpack:///external \"ui-bbm-product-kind-table-view-ng\"?62ce","webpack:///./ext-bbm-product-summary-ng/scripts/index.js","webpack:///./ext-bbm-product-summary-ng/scripts/hooks.js","webpack:///./ext-bbm-product-summary-ng/scripts/product-kind-view.js","webpack:///./ext-bbm-product-summary-ng/scripts/sorting-methods.js","webpack:///./ext-bbm-product-summary-ng/scripts/helpers.js"],"names":["extHooks","helpers","dependencyKeys","hooks","processKinds","kinds","map","maskCardNumber","suffix","defaultViewModel","product","viewModelFactories","currentAccounts","identifier","IBAN","BBAN","primaryValue","bookedBalance","secondaryValue","availableBalance","secondaryLabel","tertiaryValue","creditLimit","tertiaryLabel","savingsAccounts","accruedInterest","termDeposits","principalAmount","creditCards","number","debitCards","loans","investmentAccounts","currentInvestmentValue","productKindView","kind","id","name","products","sort","productNameAsc","aggregatedBalance","currency","isOpen","productA","productB","isInitialLoading","ctrl","isProductLoading","productKinds","isEmptyState","Boolean","length","productKindsError","isErrorState"],"mappings":"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","file":"ext-bbm-product-summary-ng/scripts/ext-bbm-product-summary-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"ui-bb-i18n-ng\"), require(\"ui-bbm-product-kind-table-view-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ext-bbm-product-summary-ng\", [\"ui-bb-i18n-ng\", \"ui-bbm-product-kind-table-view-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ext-bbm-product-summary-ng\"] = factory(require(\"ui-bb-i18n-ng\"), require(\"ui-bbm-product-kind-table-view-ng\"));\n\telse\n\t\troot[\"ext-bbm-product-summary-ng\"] = factory(root[\"ui-bb-i18n-ng\"], root[\"ui-bbm-product-kind-table-view-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_45__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b6e6496f5522437c4c2f","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ext-bbm-product-summary-ng/model.xml\n// module id = 0\n// module chunks = 9","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-i18n-ng\"\n// module id = 8\n// module chunks = 0 1 2 4 5 6 7 8 9 10 11 12","module.exports = __WEBPACK_EXTERNAL_MODULE_45__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bbm-product-kind-table-view-ng\"\n// module id = 45\n// module chunks = 8 9","/**\n * @module ext-bbm-product-summary-ng\n *\n * @description\n * Mobile extension for the product summary widget.\n *\n * @requires ui-bbm-product-kind-table-view-ng\n * @requires ui-bb-inline-status-ng\n * @requires ui-bb-i18n-ng\n *\n * @example\n * <!-- product summary widget model.xml -->\n * <property name=\"extension\" viewHint=\"text-input,admin\">\n *  <value type=\"string\">ext-bbm-product-summary-ng</value>\n * </property>\n */\nimport uiBbmProductKindTableViewKey from 'ui-bbm-product-kind-table-view-ng';\nimport uiBbI18nNgKey from 'ui-bb-i18n-ng';\n\nimport * as extHooks from './hooks';\n\nimport extHelpers from './helpers';\n\nexport const helpers = extHelpers;\n\nexport const dependencyKeys = [\n  uiBbmProductKindTableViewKey,\n  uiBbI18nNgKey,\n];\n\nexport const hooks = extHooks;\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bbm-product-summary-ng/scripts/index.js","/* eslint-disable import/prefer-default-export */\nimport productKindView from './product-kind-view';\n\n/**\n * @name Hooks\n * @type {object}\n *\n * @description\n * Hooks for widget-bb-product-summary-ng\n */\n\n/**\n * @name processKinds\n * @description\n * Hook for processing product kinds after initialization.\n *\n * @type {function}\n * @param kinds {ProductKind[]} ProductKinds to process\n * @returns {ProductKindView[]}\n */\nexport const processKinds = (kinds) => kinds.map(productKindView);\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bbm-product-summary-ng/scripts/hooks.js","import sortingBy from './sorting-methods';\n\nconst maskCardNumber = suffix => suffix && `XXXX-XXXX-XXXX-${suffix}`;\n\nconst defaultViewModel = product => product;\n\nconst viewModelFactories = {\n  currentAccounts: product => ({\n    ...product,\n    identifier: product.IBAN || product.BBAN,\n    primaryValue: product.bookedBalance,\n    secondaryValue: product.availableBalance,\n    secondaryLabel: 'label.availableBalance',\n    tertiaryValue: product.creditLimit,\n    tertiaryLabel: 'label.creditLimit',\n  }),\n\n  savingsAccounts: product => ({\n    ...product,\n    identifier: product.BBAN || product.IBAN,\n    primaryValue: product.bookedBalance,\n    secondaryValue: product.accruedInterest,\n    secondaryLabel: 'label.accruedInterestAmount',\n  }),\n\n  termDeposits: product => ({\n    ...product,\n    primaryValue: product.principalAmount,\n    secondaryValue: product.accruedInterest,\n    secondaryLabel: 'label.accruedInterestAmount',\n  }),\n\n  creditCards: product => ({\n    ...product,\n    identifier: maskCardNumber(product.number),\n    primaryValue: product.bookedBalance,\n    secondaryValue: product.creditLimit,\n    secondaryLabel: 'label.creditLimit',\n    tertiaryValue: product.availableBalance,\n    tertiaryLabel: 'label.availableBalance',\n  }),\n\n  debitCards: product => ({\n    ...product,\n    identifier: maskCardNumber(product.number),\n  }),\n\n  loans: product => ({\n    ...product,\n    primaryValue: product.bookedBalance,\n  }),\n\n  investmentAccounts: product => ({\n    ...product,\n    primaryValue: product.currentInvestmentValue,\n  }),\n};\n\n/**\n * @description\n * Prepare the fields of a Product into a form ready for display to the User\n *\n * @inner\n * @type {function}\n * @param {object} product The source Product from the API\n * @returns {ProductView}\n */\nconst productKindView = product =>\n  viewModelFactories[product.kind](product) || defaultViewModel(product);\n\n/**\n * @description\n * Prepare the fields of a Product Kind into a form ready for display to the User\n *\n * @private\n * @type {function}\n * @param {object} kind The source ProductKind from the API\n * @returns {ProductKindView}\n */\nexport default kind => ({\n  id: kind.id,\n  name: kind.name,\n  products: kind.products\n    .map(productKindView)\n    .sort(sortingBy.productNameAsc),\n  aggregatedBalance: kind.aggregatedBalance,\n  currency: kind.currency,\n  isOpen: kind.isOpen,\n});\n\n/**\n * @typedef {Object} ProductKindView\n * @property {string} id The Product Kind identifier\n * @property {string} name The name of the Kind, suitable for display to users\n * @property {Array.<ProductView>} products The products of this Kind\n */\n\n/**\n * @typedef {Object} ProductView\n * @property {string} id The internal Product Identifier\n * @property {string} name The product's name, suitable for display to users\n * @property {?string} identifier The identifier of the Product from the user's perspective\n * @property {?string} primaryValue The most important associated value to be displayed\n * @property {?string} secondaryValue A secondary associated value to be displayed\n * @property {?string} secondaryLabel A label to describe the secondary value\n * @property {?string} tertiaryValue A tertiary associated value to be displayed\n * @property {?string} tertiaryLabel A label to describe the tertiary value\n * @property {?string} currency ISO currency code\n */\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bbm-product-summary-ng/scripts/product-kind-view.js","/**\n * Sorting methods for products\n */\nexport default {\n  /**\n   * @name productNameAsc\n   * @description\n   * Sort products alphabetically by name, ascending\n   * @type {function}\n   * @param {Object} productA\n   * @param {Object} productB\n   * @returns {('-1'|'0'|'1')} result\n   */\n  productNameAsc: (productA, productB) => {\n    if (productA.name < productB.name) return -1;\n    if (productA.name > productB.name) return 1;\n    return 0;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bbm-product-summary-ng/scripts/sorting-methods.js","/**\n * @description\n * Helpers for ext-bbm-product-summary-ng\n *\n * @name Helpers\n * @type {Object}\n */\n\nexport default () => ({\n  /**\n   * @description\n   * Checks for the initial loading.\n   *\n   * @name Helpers#isInitialLoading\n   * @type {function}\n   *\n   * @param {module:widget-bb-product-summary-ng.ProductSummaryController} ctrl\n   * @returns {boolean}\n   */\n  isInitialLoading: ctrl => (\n    ctrl.isProductLoading && !ctrl.productKinds\n  ),\n\n  /**\n   * @description\n   * Checks if there are no products.\n   *\n   * @name Helpers#isEmptyState\n   * @type {function}\n   *\n   * @param {module:widget-bb-product-summary-ng.ProductSummaryController} ctrl\n   * @returns {boolean}\n   */\n  isEmptyState: ctrl => (\n    Boolean(ctrl.productKinds && !ctrl.productKinds.length) &&\n    !ctrl.productKindsError &&\n    !ctrl.isProductLoading\n  ),\n\n  /**\n   * @description\n   * Checks for the error state.\n   *\n   * @name Helpers#isErrorState\n   * @type {function}\n   *\n   * @param {module:widget-bb-product-summary-ng.ProductSummaryController} ctrl\n   * @returns {boolean}\n   */\n  isErrorState: ctrl => (\n    ctrl.productKindsError && !ctrl.isProductLoading\n  ),\n});\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bbm-product-summary-ng/scripts/helpers.js"],"sourceRoot":""}