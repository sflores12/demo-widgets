{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*****","webpack:///webpack/bootstrap dcaf2abb135ce9e57553?c844*****","webpack:///./ui-bb-char-counter-ng/model.xml","webpack:///external \"vendor-bb-angular\"?a114*****","webpack:///./ui-bb-char-counter-ng/scripts/index.js","webpack:///./ui-bb-char-counter-ng/scripts/component.js","webpack:///./ui-bb-char-counter-ng/scripts/controller.js","webpack:///./ui-bb-char-counter-ng/scripts/constants.js"],"names":["module","component","controller","name","bindings","textEl","textElQuery","config","state","template","$scope","$document","ctrl","updateCounterState","counter","value","length","$apply","isValid","maxChars","preventInput","isDeleting","event","keyCode","BackSpace","Delete","preventDefault","$onInit","querySelector","isTextEl","tagName","indexOf","toUpperCase","Object","assign","blockTyping","addEventListener","InitialConfig","initStyling","InitialState","ValidElementsList","KeyboardKeys"],"mappings":"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","file":"ui-bb-char-counter-ng/scripts/ui-bb-char-counter-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ui-bb-char-counter-ng\", [\"vendor-bb-angular\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ui-bb-char-counter-ng\"] = factory(require(\"vendor-bb-angular\"));\n\telse\n\t\troot[\"ui-bb-char-counter-ng\"] = factory(root[\"vendor-bb-angular\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dcaf2abb135ce9e57553","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ui-bb-char-counter-ng/model.xml\n// module id = 0\n// module chunks = 5","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular\"\n// module id = 2\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40","/**\n * @module ui-bb-char-counter-ng\n * @description\n * UI component for displaying chars counter.\n *\n * @example\n * // In an extension:\n * // file: scripts/index.js\n * import uiBbCharCounterNg from 'ui-bb-char-counter-ng';\n *\n * export const dependencyKeys = [\n *   uiBbCharCounterNg,\n * ];\n *\n * // file: templates/template.ng.html\n * <textarea name=\"description\"></textarea>\n * <ui-bb-char-counter-ng\n *   data-state=\"stateTextarea\"\n *   data-text-el=\"$ctrl.textElTextarea\"\n *   data-config=\"$ctrl.configTextarea\">\n * </ui-bb-char-counter-ng>\n */\nimport angular from 'vendor-bb-angular';\n\nimport component from './component';\nimport controller from './controller';\n\nexport default angular\n  .module('ui-bb-char-counter-ng', [])\n  .component('uiBbCharCounterNg', component)\n  .controller('controller', ['$scope', '$document', controller])\n  .name;\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-char-counter-ng/scripts/index.js","/**\n * @name uiBbCharCounterNg\n * @type {object}\n *\n * @property {HTMLElement} textEl Text input DOM element\n * @property {string} textElQuery for searching element by query\n * @property {config} config Component configuration\n * @property {state} state Component state\n */\nconst component = {\n  bindings: {\n    textEl: '<',\n    textElQuery: '@',\n    config: '<',\n    state: '=?',\n  },\n  controller: 'controller',\n  template: `\n  <div\n    data-ng-if=\"$ctrl.isTextEl\"\n    class=\"{{ $ctrl.config.initStyling }}\"\n    data-ng-class=\"{ 'text-danger': !$ctrl.state.isValid }\">\n    {{ $ctrl.state.counter }}/{{ $ctrl.config.maxChars }}\n  </div>\n  `,\n};\n\nexport default component;\n\n/**\n * @typedef {Object} config\n * @property {?number} maxChars Maximum chars allowed (140)\n * @property {?string} initStyling CSS classes to be added on init (\"text-left\" - default)\n * @property {?boolean} blockTyping If true, user prevented to input when limit reached (false)\n */\n\n/**\n * @typedef {Object} state\n * @property {?number} counter Chars count\n * @property {?boolean} isValid Flag is true if limit is not reached and false otherwise\n */\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-char-counter-ng/scripts/component.js","import {\n  InitialConfig,\n  InitialState,\n  ValidElementsList,\n  KeyboardKeys,\n} from './constants';\n\nexport default function controller($scope, $document) {\n  const ctrl = this;\n\n  /**\n   * @name updateCounterState\n   * @type {function}\n   * @inner\n   *\n   * @description\n   * Applies changes of attached input element into component's state object\n   */\n  const updateCounterState = () => {\n    const counter = ctrl.textEl.value.length;\n    $scope.$apply(() => {\n      ctrl.state = {\n        counter,\n        isValid: counter <= ctrl.config.maxChars,\n      };\n    });\n  };\n\n  /**\n   * @name preventInput\n   * @type {function}\n   *\n   * @description\n   * Prevent from further input in case of respective config property is true\n   * and the input limit is reached\n   *\n   * @param {KeyboardEvent} event\n   */\n  const preventInput = event => {\n    const isDeleting = !event || (event && (event.keyCode === KeyboardKeys.BackSpace ||\n      event.keyCode === KeyboardKeys.Delete));\n\n    if (ctrl.textEl.value.length >= ctrl.config.maxChars && !isDeleting) {\n      event.preventDefault();\n    }\n  };\n\n  /**\n   * @name $onInit\n   * @type {function}\n   *\n   * @description\n   * Init hook - initialize component model\n   */\n  function $onInit() {\n    if (!ctrl.textEl && ctrl.textElQuery) {\n      ctrl.textEl = $document[0].querySelector(ctrl.textElQuery);\n    }\n\n    // Should be native element\n    ctrl.isTextEl = ctrl.textEl && ctrl.textEl.tagName &&\n      ValidElementsList.indexOf(ctrl.textEl.tagName.toUpperCase()) !== -1;\n\n    if (!ctrl.isTextEl) {\n      return;\n    }\n\n    // Init state\n    ctrl.state = Object.assign({}, InitialState, ctrl.state);\n\n    // Init configuration\n    ctrl.config = Object.assign({}, InitialConfig, ctrl.config);\n\n    // Add keypress listener to text input (to prevent input if needed)\n    if (ctrl.config.blockTyping) {\n      ctrl.textEl.addEventListener('keypress', preventInput, false);\n    }\n\n    // Add keyup listener to text input (to check input limits)\n    ctrl.textEl.addEventListener('keyup', updateCounterState, false);\n  }\n\n  Object.assign(ctrl, {\n    $onInit,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-char-counter-ng/scripts/controller.js","export const InitialConfig = {\n  maxChars: 140,\n  initStyling: 'text-left',\n  blockTyping: false,\n};\n\nexport const InitialState = {\n  counter: 0,\n  isValid: true,\n};\n\nexport const ValidElementsList = ['TEXTAREA', 'INPUT'];\n\nexport const KeyboardKeys = {\n  BackSpace: 8,\n  Delete: 46,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ui-bb-char-counter-ng/scripts/constants.js"],"sourceRoot":""}