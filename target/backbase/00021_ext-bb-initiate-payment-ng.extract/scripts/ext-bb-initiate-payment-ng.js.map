{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///webpack/bootstrap 5cca3903bb887dfc34d7?ea53","webpack:///./ext-bb-initiate-payment-ng/model.xml","webpack:///./ext-bb-initiate-payment-ng/scripts/index.js","webpack:///external \"vendor-bb-angular-ng-aria\"","webpack:///external \"vendor-bb-angular-ng-messages\"","webpack:///external \"vendor-bb-uib-popover\"","webpack:///external \"vendor-bb-angular-sanitize\"","webpack:///external \"vendor-bb-uib-alert\"","webpack:///external \"ui-bb-substitute-error-ng\"","webpack:///external \"ui-bb-i18n-ng\"?dc01","webpack:///external \"ui-bb-account-selector\"","webpack:///external \"ui-bb-currency-input-ng\"","webpack:///external \"ui-bb-parent-responsiveness-ng\"","webpack:///external \"ui-bb-credit-suggest-ng\"","webpack:///external \"ui-bb-switcher-ng\"","webpack:///external \"ui-bb-expandable-ng\"","webpack:///external \"ui-bb-calendar-popup-ng\"","webpack:///external \"ui-bb-number-input-ng\"","webpack:///external \"ui-bb-account-card\"","webpack:///external \"ui-bb-confirm-ng\"","webpack:///external \"ui-bb-loading-overlay-ng\"","webpack:///external \"ui-bb-char-counter-ng\"","webpack:///./ext-bb-initiate-payment-ng/scripts/hooks.js","webpack:///./ext-bb-initiate-payment-ng/scripts/helpers.js","webpack:///./ext-bb-initiate-payment-ng/scripts/constants.js","webpack:///./ext-bb-initiate-payment-ng/styles/index.css?5161","webpack:///./ext-bb-initiate-payment-ng/styles/index.css","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js"],"names":["extHooks","dependencyKeys","hooks","helpers","events","processAccountsTo","debitAccount","getCreditAccounts","getExternalAccounts","id","then","externalTransferAllowed","accounts","concat","contacts","getRecurringTransactionDay","schedule","transferFrequency","value","startDate","getMonth","getDate","getDay","crossCurrencyMessages","minOccurrences","maxOccurences","maxDigits","expanded","descriptionCharCounterConfig","blockTyping","showCrossCurrencyMessage","isRateVisible","$ctrl","paymentPreferences","showExchangeRate","rate","payment","from","parseFloat","amount","isDifferentCurrencies","currency","canSelectUrgentPayment","urgent","urgentTransferAllowed","resetPayment","scope","Object","assign","step","makePayment","window","scrollTo","catch","onAccountChange","selectedAccount","onAccountFromChange","toggleCreditSuggestGroup","event","model","ctrl","stopPropagation","more","less","open","reviewPayment","clearPaymentError","context","i18nFilter","$filter","dateFilter","normalizeAccounts","internalAccountView","filter","account","external","externalAccountView","forEach","contact","contactAccounts","identifier","IBAN","accountNumber","accountName","bankName","name","contactPerson","push","getScheduleText","EndingType","singleTransfer","words","today","Date","setHours","isToday","multipleOccurrences","hasEnd","endingType","NEVER","todayString","toLowerCase","hasLimitedOccurences","isMinOccurences","repeat","AFTER","length","ON","endDate","join","getFrequencies","recurring","getMinDate","minDate","daysInMonth","month","year","addDays","toDate","days","getTime","addWeeks","weeks","addYears","years","getFullYear","addMonths","months","newMonth","newYear","newDay","every","transferFrequencies"],"mappings":"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CA;AACA;AACA;AACA;AACA;;;;;;;ACjDA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA","file":"ext-bb-initiate-payment-ng/scripts/ext-bb-initiate-payment-ng.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vendor-bb-angular-ng-aria\"), require(\"vendor-bb-angular-ng-messages\"), require(\"vendor-bb-uib-popover\"), require(\"vendor-bb-angular-sanitize\"), require(\"vendor-bb-uib-alert\"), require(\"ui-bb-substitute-error-ng\"), require(\"ui-bb-i18n-ng\"), require(\"ui-bb-account-selector\"), require(\"ui-bb-currency-input-ng\"), require(\"ui-bb-parent-responsiveness-ng\"), require(\"ui-bb-credit-suggest-ng\"), require(\"ui-bb-switcher-ng\"), require(\"ui-bb-expandable-ng\"), require(\"ui-bb-calendar-popup-ng\"), require(\"ui-bb-number-input-ng\"), require(\"ui-bb-account-card\"), require(\"ui-bb-confirm-ng\"), require(\"ui-bb-loading-overlay-ng\"), require(\"ui-bb-char-counter-ng\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ext-bb-initiate-payment-ng\", [\"vendor-bb-angular-ng-aria\", \"vendor-bb-angular-ng-messages\", \"vendor-bb-uib-popover\", \"vendor-bb-angular-sanitize\", \"vendor-bb-uib-alert\", \"ui-bb-substitute-error-ng\", \"ui-bb-i18n-ng\", \"ui-bb-account-selector\", \"ui-bb-currency-input-ng\", \"ui-bb-parent-responsiveness-ng\", \"ui-bb-credit-suggest-ng\", \"ui-bb-switcher-ng\", \"ui-bb-expandable-ng\", \"ui-bb-calendar-popup-ng\", \"ui-bb-number-input-ng\", \"ui-bb-account-card\", \"ui-bb-confirm-ng\", \"ui-bb-loading-overlay-ng\", \"ui-bb-char-counter-ng\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ext-bb-initiate-payment-ng\"] = factory(require(\"vendor-bb-angular-ng-aria\"), require(\"vendor-bb-angular-ng-messages\"), require(\"vendor-bb-uib-popover\"), require(\"vendor-bb-angular-sanitize\"), require(\"vendor-bb-uib-alert\"), require(\"ui-bb-substitute-error-ng\"), require(\"ui-bb-i18n-ng\"), require(\"ui-bb-account-selector\"), require(\"ui-bb-currency-input-ng\"), require(\"ui-bb-parent-responsiveness-ng\"), require(\"ui-bb-credit-suggest-ng\"), require(\"ui-bb-switcher-ng\"), require(\"ui-bb-expandable-ng\"), require(\"ui-bb-calendar-popup-ng\"), require(\"ui-bb-number-input-ng\"), require(\"ui-bb-account-card\"), require(\"ui-bb-confirm-ng\"), require(\"ui-bb-loading-overlay-ng\"), require(\"ui-bb-char-counter-ng\"));\n\telse\n\t\troot[\"ext-bb-initiate-payment-ng\"] = factory(root[\"vendor-bb-angular-ng-aria\"], root[\"vendor-bb-angular-ng-messages\"], root[\"vendor-bb-uib-popover\"], root[\"vendor-bb-angular-sanitize\"], root[\"vendor-bb-uib-alert\"], root[\"ui-bb-substitute-error-ng\"], root[\"ui-bb-i18n-ng\"], root[\"ui-bb-account-selector\"], root[\"ui-bb-currency-input-ng\"], root[\"ui-bb-parent-responsiveness-ng\"], root[\"ui-bb-credit-suggest-ng\"], root[\"ui-bb-switcher-ng\"], root[\"ui-bb-expandable-ng\"], root[\"ui-bb-calendar-popup-ng\"], root[\"ui-bb-number-input-ng\"], root[\"ui-bb-account-card\"], root[\"ui-bb-confirm-ng\"], root[\"ui-bb-loading-overlay-ng\"], root[\"ui-bb-char-counter-ng\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_17__, __WEBPACK_EXTERNAL_MODULE_18__, __WEBPACK_EXTERNAL_MODULE_19__, __WEBPACK_EXTERNAL_MODULE_20__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5cca3903bb887dfc34d7","module.exports = require(\"./scripts/index.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ext-bb-initiate-payment-ng/model.xml\n// module id = 0\n// module chunks = 0","/**\n * @module ext-bb-initiate-payment-ng\n *\n * @description\n * Default extension for widget-bb-initiate-payment-ng\n */\nimport ngAriaModuleKey from 'vendor-bb-angular-ng-aria';\nimport bbAngularNgMessagesKey from 'vendor-bb-angular-ng-messages';\nimport uibPopoverKey from 'vendor-bb-uib-popover';\nimport ngSanitizeKey from 'vendor-bb-angular-sanitize';\nimport vendorBbUibAlertKey from 'vendor-bb-uib-alert';\nimport uiBbSubstituteErrorNgKey from 'ui-bb-substitute-error-ng';\nimport i18nNgKey from 'ui-bb-i18n-ng';\nimport uiBbAccountSelector from 'ui-bb-account-selector';\nimport uiBbCurrencyInputNgKey from 'ui-bb-currency-input-ng';\nimport uiBbParentResponsivenessNg from 'ui-bb-parent-responsiveness-ng';\nimport uiBbCreditSuggestNgKey from 'ui-bb-credit-suggest-ng';\nimport uiBbSwitcherNgKey from 'ui-bb-switcher-ng';\nimport uiBbExpandableNg from 'ui-bb-expandable-ng';\nimport uiBbCalendarPopupNgKey from 'ui-bb-calendar-popup-ng';\nimport uiBbNumberInputNgKey from 'ui-bb-number-input-ng';\nimport uiBbAccountCard from 'ui-bb-account-card';\nimport uiBbConfirmNgKey from 'ui-bb-confirm-ng';\nimport uiBbLoadingOverlayKey from 'ui-bb-loading-overlay-ng';\nimport uiBbCharCounterNgKey from 'ui-bb-char-counter-ng';\n\nimport * as extHooks from './hooks';\nimport extHelpers from './helpers';\n\nimport '../styles/index.css';\n\nexport const dependencyKeys = [\n  ngAriaModuleKey,\n  bbAngularNgMessagesKey,\n  uibPopoverKey,\n  ngSanitizeKey,\n  vendorBbUibAlertKey,\n  uiBbSubstituteErrorNgKey,\n  i18nNgKey,\n  uiBbAccountSelector,\n  uiBbCurrencyInputNgKey,\n  uiBbParentResponsivenessNg,\n  uiBbCreditSuggestNgKey,\n  uiBbSwitcherNgKey,\n  uiBbExpandableNg,\n  uiBbCalendarPopupNgKey,\n  uiBbNumberInputNgKey,\n  uiBbAccountCard,\n  uiBbConfirmNgKey,\n  uiBbLoadingOverlayKey,\n  uiBbCharCounterNgKey,\n];\n\nexport const hooks = extHooks;\n\nexport const helpers = extHelpers;\n\nexport const events = {};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-initiate-payment-ng/scripts/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular-ng-aria\"\n// module id = 2\n// module chunks = 0 1 6 7 8 9","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular-ng-messages\"\n// module id = 3\n// module chunks = 0 2 6","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-uib-popover\"\n// module id = 4\n// module chunks = 0 6","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-angular-sanitize\"\n// module id = 5\n// module chunks = 0 6","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor-bb-uib-alert\"\n// module id = 6\n// module chunks = 0 6","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-substitute-error-ng\"\n// module id = 7\n// module chunks = 0 1 6 7 8 9","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-i18n-ng\"\n// module id = 8\n// module chunks = 0 1 2 3 4 6 7 8 9 11 12","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-account-selector\"\n// module id = 9\n// module chunks = 0 6","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-currency-input-ng\"\n// module id = 10\n// module chunks = 0 6","module.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-parent-responsiveness-ng\"\n// module id = 11\n// module chunks = 0 6","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-credit-suggest-ng\"\n// module id = 12\n// module chunks = 0 6","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-switcher-ng\"\n// module id = 13\n// module chunks = 0 6","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-expandable-ng\"\n// module id = 14\n// module chunks = 0 6","module.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-calendar-popup-ng\"\n// module id = 15\n// module chunks = 0 6","module.exports = __WEBPACK_EXTERNAL_MODULE_16__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-number-input-ng\"\n// module id = 16\n// module chunks = 0 6","module.exports = __WEBPACK_EXTERNAL_MODULE_17__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-account-card\"\n// module id = 17\n// module chunks = 0 6","module.exports = __WEBPACK_EXTERNAL_MODULE_18__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-confirm-ng\"\n// module id = 18\n// module chunks = 0 6 9","module.exports = __WEBPACK_EXTERNAL_MODULE_19__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-loading-overlay-ng\"\n// module id = 19\n// module chunks = 0 1 6 7 8","module.exports = __WEBPACK_EXTERNAL_MODULE_20__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ui-bb-char-counter-ng\"\n// module id = 20\n// module chunks = 0 6","/**\n * @name Hooks#processAccountsTo\n * @type {function}\n *\n * @description\n * Hook for processing account list in 'to' field (credit).\n * Assigned to $ctrl.accountsTo.\n *\n * @param {object} debitAccount Selected debit account (can be null).\n * @param {function} getCreditAccounts Function to retrieve all credit accounts\n * @param {function} getExternalContacts Function to retrieve all external contacts\n * formatted like Product kind\n * @returns {Promise.<any[]>} Promise that retrieves array of accounts.\n */\nexport const processAccountsTo = (debitAccount, getCreditAccounts, getExternalAccounts) =>\n  getCreditAccounts(debitAccount.id || null)\n  .then(accounts => {\n    if (!debitAccount.id || debitAccount.externalTransferAllowed) {\n      return getExternalAccounts()\n        .then(contacts => accounts.concat(contacts));\n    }\n    return accounts;\n  });\n\n/**\n * @name Hooks#getRecurringTransactionDay\n * @type {function}\n *\n * @description\n * Denotes day on which transfer should be executed.\n * For weekly it will be 1..7 indicating weekday.\n * For monthly it will be 1..31 indicating day of month.\n * For yearly it will be 1..12 indicating month of the year\n *\n * @param {object} schedule Recurring payment schedule object\n * @returns {number} Recurring transaction day\n */\nexport const getRecurringTransactionDay = schedule => {\n  switch (schedule.transferFrequency.value) {\n    case 'YEARLY':\n      return schedule.startDate.getMonth() + 1;\n    case 'MONTHLY':\n      return schedule.startDate.getDate();\n    default:\n      return schedule.startDate.getDay() + 1;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-initiate-payment-ng/scripts/hooks.js","import { transferFrequencies } from './constants';\n\nconst crossCurrencyMessages = { 'cross-currency': true };\nconst minOccurrences = 2;\nconst maxOccurences = 200;\nconst maxDigits = 13;\nconst expanded = {};\nconst descriptionCharCounterConfig = {\n  blockTyping: true,\n};\n\n/**\n * @description\n * Returns cross currency messages if they should be shown\n *\n * @name showCrossCurrencyMessage\n * @type {function}\n * @param {object} controller Widget controller\n * @returns {object} Cross currency messages\n */\nconst showCrossCurrencyMessage = $ctrl => {\n  const isRateVisible = $ctrl.paymentPreferences.showExchangeRate && $ctrl.rate &&\n    $ctrl.payment.from && parseFloat($ctrl.payment.amount.value);\n  const isDifferentCurrencies = $ctrl.payment.amount.currency !==\n    ($ctrl.payment.from ? $ctrl.payment.from.currency : $ctrl.payment.amount.currency);\n\n  return isRateVisible && isDifferentCurrencies ? crossCurrencyMessages : null;\n};\n\n/**\n * @description\n * Checks if layout should show 'Urgent payment' switcher\n *\n * @name canSelectUrgentPayment\n * @type {function}\n * @param {object} $ctrl Widget controller\n * @returns {boolean} True if urget payment switchet should be shown, false otherwise\n */\nconst canSelectUrgentPayment = $ctrl => {\n  const debitAccount = $ctrl.payment.from || {};\n  return !!($ctrl.paymentPreferences.urgent && debitAccount && debitAccount.urgentTransferAllowed);\n};\n\n/**\n * @description\n * Resets payment order\n *\n * @name resetPayment\n * @type {function}\n * @param {object} $ctrl Widget controller\n * @param {object} scope Template scope\n *\n * @returns {Promise<any>}\n */\nconst resetPayment = ($ctrl, scope) =>\n  $ctrl.resetPayment().then(() => {\n    Object.assign(scope, { step: 'form' });\n  });\n\n/**\n * @description\n * Makes new payment request and changes step on success\n *\n * @name makePayment\n * @type {function}\n * @param {object} $ctrl Payment controller\n * @param {object} scope Parent ng scope\n * @returns {object} Payment request Promise\n */\nconst makePayment = ($ctrl, scope) => $ctrl.makePayment($ctrl.payment)\n  .then(() => {\n    Object.assign(scope, { step: 'confirmation' });\n    // eslint-disable-next-line no-undef\n    window.scrollTo(0, 0);\n  })\n  .catch(() => {}); // Intentional empty catch block to prevent uncaught reject error\n\n/**\n * @description\n * Handler for Account From change action\n *\n * @name onAccountChange\n * @type {function}\n * @param {object} $ctrl Payment controller\n * @param {object} selectedAccount\n * @returns {object} A Promise object\n */\nconst onAccountChange = ($ctrl, selectedAccount) => {\n  // eslint-disable-next-line no-param-reassign\n  $ctrl.payment.from = Object.assign({}, selectedAccount);\n  return $ctrl.onAccountFromChange();\n};\n\n/**\n * @description\n * Toggle group in credit suggest component\n *\n * @name toggleCreditSuggestGroup\n * @type {function}\n * @param {object} event Event object\n * @param {object} model\n * @param {object} ctrl Widget's controller\n */\nconst toggleCreditSuggestGroup = (event, model, ctrl) => {\n  // Prevent suggestion list to be closed\n  event.stopPropagation();\n\n  expanded[model.more || model.less] = !!model.more;\n\n  ctrl.open();\n};\n\n/**\n * @name reviewPayment\n * @type {function}\n *\n * @description\n * Called when submitting payment for review, it actually calls a hook that\n * can be customized with all the validations needed by the specific project.\n *\n * @param {object} ctrl Payment controller\n * @param {object} scope Parent ng scope\n */\nconst reviewPayment = ($ctrl, scope) => $ctrl.reviewPayment($ctrl.payment)\n  .then(() => {\n    $ctrl.clearPaymentError();\n    Object.assign(scope, { step: 'review' });\n    // eslint-disable-next-line no-undef\n    window.scrollTo(0, 0);\n  });\n\nconst helpers = (context) => {\n  const i18nFilter = context.$filter('i18n');\n  const dateFilter = context.$filter('date');\n\n  /**\n   * @description\n   * Transforms provided accounts to custom structure. External contacts account list will be\n   * flattened to be molded to same structure as internal accounts\n   * (identifier=IBAN/BBAN, name=contactperson).\n   *\n   * @name getAccounts\n   * @type {function}\n   * @param {array<object>} accounts\n   * @returns {array<object>} View accounts\n   */\n  const normalizeAccounts = (accounts) => {\n    if (!accounts) {\n      return [].concat(accounts || []);\n    }\n\n    const internalAccountView = accounts.filter(account => !account.external);\n\n    let externalAccountView = [];\n\n    // add group names per contact for externals\n    accounts.filter(account => account.external).forEach((contact) => {\n      const contactAccounts = [];\n      if (contact.accounts) {\n        for (const account of contact.accounts) {\n          Object.assign(account, contact, {\n            identifier: account.IBAN || account.accountNumber,\n            accountName: account.bankName || account.name,\n            name: contact.name,\n            contactPerson: contact.contactPerson || contact.name,\n          });\n          contactAccounts.push(account);\n        }\n      }\n      externalAccountView = externalAccountView.concat(contactAccounts);\n    });\n\n    return [...internalAccountView, ...externalAccountView];\n  };\n\n  /**\n   * @description\n   * Compiles the scheduling description out of payment object params.\n   *\n   * In this process, following translation keys are being used:\n   *\n   * form.schedule.starting, for word \"Starting\"\n   *\n   * form.schedule.today, for word \"Today\"\n   *\n   * form.schedule.on, for word \"On\" (used before date to form \"on 01.01.2017\")\n   *\n   * form.schedule.until, for word \"until\" (used before date to form \"until 01.01.2017\")\n   *\n   * form.schedule.repeat.count, for word \"times\" (used after repeat count to form \"5 times\")\n   *\n   * and name of the transfer frequency set in constants file\n   *\n   * @name getScheduleText\n   * @type {function}\n   * @param {object} $ctrl Widget controller\n   * @returns {string} Compiled text that can be used as scheduling value in views\n   */\n  const getScheduleText = $ctrl => {\n    const { payment, EndingType, singleTransfer } = $ctrl;\n    const words = [];\n    const today = (new Date()).setHours(0, 0, 0, 0);\n    const startDate = new Date(payment.schedule.startDate);\n    const isToday = startDate.setHours(0, 0, 0, 0) === today;\n    const multipleOccurrences = payment.schedule.transferFrequency.value !== singleTransfer.value;\n    const hasEnd = payment.endingType !== EndingType.NEVER;\n\n    // add frequency\n    words.push(i18nFilter(payment.schedule.transferFrequency.name));\n    words.push('-');\n\n    // if there are multiple occurrences, add word starting\n    if (multipleOccurrences) {\n      words.push(i18nFilter('form.schedule.starting'));\n    }\n\n    // if start date is today use word instead of date\n    if (isToday) {\n      let todayString = i18nFilter('form.schedule.today');\n      // for multiple occurrences, there is a prefix word, so this on should be lowercase\n      if (multipleOccurrences) {\n        todayString = todayString.toLowerCase();\n      }\n\n      words.push(todayString);\n    }\n\n    // for single transfer in the future, we need prefix word on\n    if (!multipleOccurrences && !isToday) {\n      words.push(i18nFilter('form.schedule.on').toLowerCase());\n    }\n\n    if (!isToday) {\n      words.push(dateFilter(payment.schedule.startDate));\n    }\n\n    const hasLimitedOccurences = hasEnd && multipleOccurrences;\n    const isMinOccurences = !payment.schedule.repeat || payment.schedule.repeat < minOccurrences;\n\n    // if there are limited number of occurrences,\n    // add comma for the last word, so that there is no space between them\n    if (hasLimitedOccurences && !(payment.endingType === EndingType.AFTER && isMinOccurences)) {\n      words[words.length - 1] += ',';\n    }\n\n    if (hasEnd && multipleOccurrences) {\n      // there is an end for this schedule\n      // based on the type of ending construct words differently\n      if (payment.endingType === EndingType.ON) {\n        words.push(i18nFilter('form.schedule.until'));\n        words.push(dateFilter(payment.schedule.endDate));\n      } else if (payment.schedule.repeat >= minOccurrences) {\n        words.push(payment.schedule.repeat);\n        words.push(payment.schedule.repeat ? i18nFilter('form.schedule.repeat.count') : '');\n      }\n    }\n\n    // output everything together\n    return words.join(' ');\n  };\n\n  /**\n   * @description\n   * Returns frequencies for payment depending on occurences number\n   *\n   * @name getFrequencies\n   * @type {function}\n   * @param {object} $ctrl Widget controller\n   * @returns {array<object>} Array of transfer frequencies\n   */\n  const getFrequencies = $ctrl => [$ctrl.singleTransfer].concat(\n    $ctrl.paymentPreferences.recurring ? transferFrequencies : []);\n\n  /**\n   * @name getMinDate\n   * @type {function}\n   * @description\n   * Get the minimum available date for specific frequency\n   *\n   * @param {date} startDate\n   * @param {object} transferFrequency\n   * @return {date}\n   */\n  const getMinDate = (startDate, transferFrequency = {}) => {\n    let minDate;\n\n    const daysInMonth = (month, year) => new Date(year, month + 1, 0).getDate();\n    const addDays = (toDate, days) => new Date(toDate.getTime() + (days * 24 * 60 * 60 * 1000));\n    const addWeeks = (toDate, weeks) => addDays(toDate, weeks * 7);\n    const addYears = (toDate, years) => new Date(toDate.getFullYear() + years,\n      toDate.getMonth(), (toDate.getDate() > daysInMonth(toDate.getMonth(),\n        toDate.getFullYear()) ? daysInMonth(toDate.getMonth(),\n        toDate.getFullYear()) : toDate.getDate()));\n    const addMonths = (toDate, months) => {\n      const newMonth = toDate.getMonth() + months + 1 > 12 ?\n        ((toDate.getMonth() + months + 1) % 12) - 1 : toDate.getMonth() + months;\n      const newYear = toDate.getMonth() + months + 1 > 12 ?\n        addYears(toDate, 1).getFullYear() : toDate.getFullYear();\n      const newDay = toDate.getDate() > daysInMonth(newMonth, newYear) ?\n        daysInMonth(newMonth, newYear) : toDate.getDate();\n      return new Date(newYear, newMonth, newDay);\n    };\n\n    switch (transferFrequency.value) {\n      case 'DAILY':\n        minDate = addDays(startDate, transferFrequency.every);\n        break;\n      case 'WEEKLY':\n        minDate = addWeeks(startDate, transferFrequency.every);\n        break;\n      case 'MONTHLY':\n        minDate = addMonths(startDate, transferFrequency.every);\n        break;\n      case 'QUARTERLY':\n        minDate = addMonths(startDate, (transferFrequency.every * 3));\n        break;\n      case 'YEARLY':\n        minDate = addYears(startDate, transferFrequency.every);\n        break;\n      default:\n        minDate = startDate;\n    }\n\n    return minDate;\n  };\n\n\n  return {\n    minOccurrences,\n    maxOccurences,\n    maxDigits,\n    descriptionCharCounterConfig,\n    showCrossCurrencyMessage,\n    normalizeAccounts,\n    canSelectUrgentPayment,\n    getScheduleText,\n    getFrequencies,\n    resetPayment,\n    makePayment,\n    reviewPayment,\n    toggleCreditSuggestGroup,\n    onAccountChange,\n    getMinDate,\n  };\n};\n\nexport default helpers;\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-initiate-payment-ng/scripts/helpers.js","/**\n * @description\n * Array of recurring frequency objects with the following properties (all mandatory)\n *\n * @property {string} object.name Translation key of the label\n * that will be displayed to the end user\n * @property {string} object.value Denotes frequency type of transfer.\n * Possible values: DAILY/WEEKLY/MONTHLY/YEARLY\n * @property {number} object.every Indicates skip interval of transfer.\n * 1 would mean execute every time, 2 - every other time\n *\n * @example\n * {\n *   name: 'form.schedule.frequency.weekly',\n *   value: 'WEEKLY',\n *   every: 1,\n * },\n * {\n *   name: 'form.schedule.frequency.bi.weekly',\n *   value: 'WEEKLY',\n *   every: 2,\n * }\n *\n * @name transferFrequencies\n * @type {array}\n */\n// eslint-disable-next-line import/prefer-default-export\nexport const transferFrequencies = [\n  {\n    name: 'form.schedule.frequency.daily',\n    value: 'DAILY',\n    every: 1,\n  },\n  {\n    name: 'form.schedule.frequency.weekly',\n    value: 'WEEKLY',\n    every: 1,\n  },\n  {\n    name: 'form.schedule.frequency.monthly',\n    value: 'MONTHLY',\n    every: 1,\n  },\n  {\n    name: 'form.schedule.frequency.quarterly',\n    value: 'QUARTERLY',\n    every: 1,\n  },\n  {\n    name: 'form.schedule.frequency.annually',\n    value: 'YEARLY',\n    every: 1,\n  },\n];\n\n\n\n// WEBPACK FOOTER //\n// ./ext-bb-initiate-payment-ng/scripts/constants.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!./index.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./index.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./index.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ext-bb-initiate-payment-ng/styles/index.css\n// module id = 24\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".ext-bb-initiate-payment-ng textarea {\\n  resize: none;\\n}\\n\\n.ext-bb-initiate-payment-ng .occurence-field {\\n  display: inline;\\n}\\n\\n.ext-bb-initiate-payment-ng .amount-block {\\n  float: none;\\n  display: table;\\n}\\n\\n.ext-bb-initiate-payment-ng .cross-currency-info > span {\\n  display: inline-block;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./ext-bb-initiate-payment-ng/styles/index.css\n// module id = 25\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 26\n// module chunks = 0 2 6 8 9 13","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\tlinkElement.rel = \"stylesheet\";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 27\n// module chunks = 0 2 6 8 9 13"],"sourceRoot":""}